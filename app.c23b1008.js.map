{"version":3,"sources":["js/fetchCountries.js","js/refs.js","../node_modules/debounce/index.js","app.js"],"names":["fetchCountries","name","fetch","then","response","status","json","catch","error","alert","refs","formEl","document","querySelector","countryNone","countryList","countryInfo","countryName","countryCapital","countryPopulation","countryLangList","countryFlag","debounce","require","hideElement","style","display","removeEvent","getCountryFunc","data","length","setCountryList","setCountryInfo","setCountryNoneMes","list","map","el","innerHTML","join","setEventCountry","textContent","capital","population","languages","src","flag","onClickCountryItem","e","elements","value","target","addEventListener","removeEventListener","onInputCountry"],"mappings":"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","file":"app.c23b1008.js","sourceRoot":"..\\src","sourcesContent":["export default function fetchCountries(name) {\r\n  return fetch(`https://restcountries.com/v2/name/${name}`)\r\n    .then(response => {\r\n      if (response.status !== 404) {\r\n        return response.json();\r\n      }\r\n    })\r\n    .catch(error => alert(error));\r\n}\r\n","const refs = {\r\n  formEl: document.querySelector('.form-country'),\r\n  countryNone: document.querySelector('.country-none'),\r\n  countryList: document.querySelector('.country-list'),\r\n  countryInfo: document.querySelector('.country-info'),\r\n  countryName: document.querySelector('.country-name'),\r\n  countryCapital: document.querySelector('.country-capital'),\r\n  countryPopulation: document.querySelector('.country-population'),\r\n  countryLangList: document.querySelector('.country-languages-list'),\r\n  countryFlag: document.querySelector('.country-flag'),\r\n};\r\n\r\nexport default refs;\r\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","import getCountry from './js/fetchCountries.js';\r\nimport refs from './js/refs.js';\r\nconst debounce = require('debounce');\r\n\r\nfunction hideElement() {\r\n  refs.countryNone.style.display = 'none';\r\n  refs.countryInfo.style.display = 'none';\r\n  refs.countryList.style.display = 'none';\r\n  removeEvent();\r\n}\r\n\r\nfunction getCountryFunc(name) {\r\n  getCountry(name)\r\n    .then(data => {\r\n      if (data.length > 1) {\r\n        setCountryList(data);\r\n      } else {\r\n        setCountryInfo(data[0]);\r\n      }\r\n    })\r\n    .catch(error => {\r\n      hideElement();\r\n      setCountryNoneMes();\r\n    });\r\n}\r\n\r\nfunction setCountryNoneMes() {\r\n  refs.countryNone.style.display = 'block';\r\n}\r\n\r\nfunction setCountryList(data) {\r\n  refs.countryList.style.display = 'block';\r\n  const list = data.map(el => `<li>${el.name}</li>`);\r\n  refs.countryList.innerHTML = list.join('');\r\n  setEventCountry();\r\n}\r\n\r\nfunction setCountryInfo(data) {\r\n  refs.countryInfo.style.display = 'block';\r\n  refs.countryName.textContent = data.name;\r\n  refs.countryCapital.textContent = data.capital;\r\n  refs.countryPopulation.textContent = data.population;\r\n  refs.countryLangList.innerHTML = data.languages.map(el => `<li>${el.name}</li>`).join('');\r\n  refs.countryFlag.src = data.flag;\r\n}\r\n\r\nfunction onClickCountryItem(e) {\r\n  refs.formEl.elements.countryName.value = e.target.textContent;\r\n  getCountryFunc(e.target.textContent);\r\n  hideElement();\r\n}\r\n\r\nfunction setEventCountry() {\r\n  refs.countryList.addEventListener('click', onClickCountryItem);\r\n}\r\n\r\nfunction removeEvent() {\r\n  refs.countryList.removeEventListener('click', onClickCountryItem);\r\n}\r\n\r\nfunction onInputCountry(e) {\r\n  hideElement();\r\n  if (e.target.value) getCountryFunc(e.target.value);\r\n}\r\n\r\nrefs.formEl.elements.countryName.addEventListener('input', debounce(onInputCountry, 500));\r\n"]}